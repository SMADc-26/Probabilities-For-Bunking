<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Bunk Probability Calculator</title>
<style>
  /* Import font */
  @import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap");

  /* Base Reset */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: "Poppins", sans-serif;
    min-height: 100vh;
    background: linear-gradient(135deg, #667eea, #764ba2);
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
    position: relative;
    overflow-x: hidden;
    transition: background 0.5s ease;
    background-size: 400% 400%;
    animation: gradient-shift 15s ease infinite;
  }
  
  body::after {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(ellipse at center, transparent 0%, rgba(0, 0, 0, 0.3) 100%);
    pointer-events: none;
    z-index: 0;
  }
  
  body.light-mode {
    background: linear-gradient(45deg, #FFD700, #FFA500, #FFD700);
    background-size: 400% 400%;
    animation: spin-gradient 20s ease infinite;
  }
  
  body.light-mode::after {
    background: radial-gradient(ellipse at center, transparent 0%, rgba(0, 0, 0, 0.2) 100%);
  }
  
  body.dark-mode {
    background: linear-gradient(45deg, #1a1a2e, #0f3460, #16213e);
    background-size: 400% 400%;
    animation: gradient-shift 15s ease infinite;
  }
  
  body.dark-mode::after {
    background: radial-gradient(ellipse at center, transparent 0%, rgba(0, 0, 0, 0.6) 100%);
  }

  /* Floating Background Circles */
  body::before,
  body::after {
    content: "";
    position: absolute;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.12);
    animation: float 7s ease-in-out infinite;
  }
  body::before {
    width: 420px;
    height: 420px;
    top: -200px;
    right: -180px;
  }
  body::after {
    width: 350px;
    height: 350px;
    bottom: -150px;
    left: -150px;
    animation-duration: 9s;
    animation-direction: reverse;
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(20px);
    }
  }
  
  /* Interactive Space Background */
  .space-bg {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
  }
  
  .star {
    position: absolute;
    background: rgba(255, 255, 255, 0.9);
    border-radius: 50%;
    animation: twinkle 3s infinite;
    box-shadow: 0 0 8px rgba(255, 255, 255, 0.7);
  }
  
  @keyframes twinkle {
    0%, 100% { opacity: 0.4; }
    50% { opacity: 1; }
  }
  
  .floating-particle {
    position: absolute;
    background: radial-gradient(circle, rgba(255, 255, 255, 0.8), transparent);
    border-radius: 50%;
    pointer-events: none;
  }
  
  @keyframes float-up {
    0% {
      transform: translateY(0) translateX(0);
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    90% {
      opacity: 1;
    }
    100% {
      transform: translateY(-100vh) translateX(100px);
      opacity: 0;
    }
  }
  
  @keyframes float-down {
    0% {
      transform: translateY(0) translateX(0);
      opacity: 0;
    }
    10% {
      opacity: 1;
    }
    90% {
      opacity: 1;
    }
    100% {
      transform: translateY(100vh) translateX(-100px);
      opacity: 0;
    }
  }
  
  /* Sunlight rays for light mode */
  .sun-rays {
    position: fixed;
    top: -10%;
    right: -5%;
    width: 400px;
    height: 400px;
    background: radial-gradient(circle, rgba(255, 200, 87, 0.4) 0%, rgba(255, 200, 87, 0.2) 30%, transparent 70%);
    border-radius: 50%;
    filter: blur(60px);
    pointer-events: none;
    z-index: 2;
    opacity: 0;
    transition: opacity 0.5s ease;
  }
  
  body.light-mode .sun-rays {
    opacity: 1;
  }
  
  /* Birds flying effect */
  .bird {
    position: absolute;
    font-size: 20px;
    opacity: 0.7;
    animation: fly 15s linear infinite;
    pointer-events: none;
  }
  
  @keyframes fly {
    0% {
      transform: translateX(-100px) translateY(0);
      opacity: 0;
    }
    10% {
      opacity: 0.7;
    }
    90% {
      opacity: 0.7;
    }
    100% {
      transform: translateX(calc(100vw + 100px)) translateY(-30px);
      opacity: 0;
    }
  }
  
  @keyframes fly-reverse {
    0% {
      transform: translateX(calc(100vw + 100px)) translateY(0) scaleX(-1);
      opacity: 0;
    }
    10% {
      opacity: 0.7;
    }
    90% {
      opacity: 0.7;
    }
    100% {
      transform: translateX(-100px) translateY(-30px) scaleX(-1);
      opacity: 0;
    }
  }
  
  /* Mesh gradient animated background */
  @keyframes gradient-shift {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
  
  @keyframes spin-gradient {
    0% { 
      background: linear-gradient(45deg, #cff06b, hwb(45 15% 0%), #e94e4b);
      background-position: 0% 50%;
    }
    25% { 
      background: linear-gradient(135deg, #f5f104, #e94e4b, hwb(45 15% 0%)a);
      background-position: 100% 50%;
    }
    50% { 
      background: linear-gradient(225deg, #e94b8c, hwb(45 15% 0%), #cff06b);
      background-position: 100% 0%;
    }
    75% { 
      background: linear-gradient(315deg, #bef222, hwb(45 15% 0%), #e94b8c);
      background-position: 0% 100%;
    }
    100% { 
      background: linear-gradient(45deg, #c6f340, hwb(45 15% 0%), #e94b8c);
      background-position: 0% 50%;
    }
  }

  /* Main Card */
  .container {
    width: 100%;
    max-width: 460px;
    background: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(12px);
    padding: 35px;
    border-radius: 25px;
    box-shadow: 0 20px 50px rgba(0, 0, 0, 0.25);
    position: relative;
    animation: slideUp 0.55s ease-out;
    cursor: grab;
    transition: all 0.4s ease;
    z-index: 100;
  }
  
  .container:hover {
    box-shadow: 0 25px 60px rgba(0, 0, 0, 0.35);
    transform: translateY(-5px);
  }
  
  body.dark-mode .container {
    background: rgba(30, 40, 60, 0.95);
    color: #fff;
  }
  
  body.light-mode .container {
    background: rgba(255, 255, 255, 0.95);
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Header */
  .header {
    text-align: center;
    margin-bottom: 30px;
  }
  .header h1 {
    font-size: 30px;
    font-weight: 700;
    background: linear-gradient(135deg, #667eea, #764ba2);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  .emoji-decoration {
    font-size: 48px;
    animation: bounce 2s infinite ease-in-out;
  }
  @keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-8px); }
  }

  /* Inputs */
  .input-group {
    margin-bottom: 20px;
    animation: fadeInUp 0.6s ease-out forwards;
  }
  
  .input-group:nth-child(1) { animation-delay: 0.1s; }
  .input-group:nth-child(2) { animation-delay: 0.2s; }
  .input-group:nth-child(3) { animation-delay: 0.3s; }
  
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .input-group label {
    display: block;
    font-weight: 600;
    margin-bottom: 8px;
    transition: color 0.3s ease;
  }
  
  body.dark-mode .input-group label {
    color: #e0e0e0;
  }
  
  .input-group input {
    width: 100%;
    padding: 14px;
    font-size: 15px;
    border: 2px solid #ddd;
    border-radius: 12px;
    transition: all 0.3s ease;
    background: rgba(255, 255, 255, 0.95);
  }
  
  body.dark-mode .input-group input {
    background: rgba(50, 70, 100, 0.6);
    border-color: #555;
    color: #fff;
  }
  
  .input-group input:focus {
    border-color: #667eea;
    background: white;
    outline: none;
    box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.15);
    transform: scale(1.02);
  }
  
  body.dark-mode .input-group input:focus {
    background: rgba(100, 120, 150, 0.8);
    color: #fff;
  }

  /* Day Selector */
  .day-selector {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 10px;
  }
  .day-btn {
    padding: 14px;
    text-align: center;
    border: 2px solid #ccc;
    border-radius: 12px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 600;
    background: rgba(255, 255, 255, 0.7);
  }
  
  body.dark-mode .day-btn {
    background: rgba(50, 70, 100, 0.6);
    border-color: #555;
    color: #e0e0e0;
  }
  
  .day-btn.active,
  .day-btn:hover {
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    border-color: transparent;
    transform: scale(1.05);
    box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
  }

  /* Button */
  .calculate-btn {
    width: 100%;
    padding: 16px;
    margin-top: 10px;
    border: none;
    border-radius: 12px;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    font-size: 17px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3);
  }
  .calculate-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
  }
  .calculate-btn:active {
    transform: translateY(-1px);
  }

  /* Result */
  .result {
    margin-top: 30px;
    padding: 22px;
    border-radius: 15px;
    background: rgba(255, 255, 255, 0.25);
    backdrop-filter: blur(8px);
    text-align: center;
    display: none;
    transition: all 0.4s ease;
    border: 2px solid rgba(255, 255, 255, 0.3);
  }
  
  body.dark-mode .result {
    background: rgba(50, 70, 100, 0.4);
    border-color: rgba(102, 126, 234, 0.3);
  }
  
  .result.show {
    display: block;
    animation: slideDown 0.5s ease;
  }
  
  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .result-emoji {
    font-size: 55px;
    margin-bottom: 12px;
    animation: bounce 0.6s ease;
    display: inline-block;
  }

  .result-percent {
    font-size: 40px;
    font-weight: 700;
    background: linear-gradient(135deg, #667eea, #764ba2);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin: 10px 0;
    animation: pulse 1s ease-in-out;
  }
  
  @keyframes pulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.05); }
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  .result-text {
    font-size: 18px;
    font-weight: 700;
    margin: 10px 0;
    color: #333;
    animation: fadeIn 0.6s ease 0.2s both;
  }
  
  body.dark-mode .result-text {
    color: #e0e0e0;
  }
  
  .result-message {
    font-size: 14px;
    margin-top: 10px;
    opacity: 0.8;
    animation: fadeIn 0.6s ease 0.4s both;
  }

  /* Responsive */
  @media (max-width: 480px) {
    .container {
      padding: 25px;
    }
    .header h1 {
      font-size: 24px;
    }
    .emoji-decoration { font-size: 40px; }
  }
</style>
</head>
<body>
  <div class="space-bg" id="spaceBg"></div>
  <div class="sun-rays" id="sunRays"></div>
  <button id="themeToggle" style="position: fixed; top: 20px; right: 20px; padding: 10px 15px; border: none; border-radius: 50%; width: 50px; height: 50px; cursor: pointer; background: rgba(255, 255, 255, 0.4); font-size: 20px; transition: all 0.3s ease; z-index: 1000; backdrop-filter: blur(8px); border: 2px solid rgba(255, 255, 255, 0.3); display: flex; align-items: center; justify-content: center;">üåô</button>
  
  <div class="container" id="dragBox">
    <div class="header">
      <div class="emoji-decoration">üéì</div>
      <h1>Bunk Probability</h1>
      <p>Let‚Äôs check your bunk mood today üòé</p>
    </div>

    <div class="input-group">
      <label>Your Name</label>
      <input type="text" id="studentName" placeholder="Enter name" />
    </div>

    <div class="input-group">
      <label>Subject</label>
      <input type="text" id="subjectName" placeholder="e.g., Maths" />
    </div>

    <div class="input-group">
      <label>Day</label>
      <div class="day-selector">
        <div class="day-btn active" data-day="today">Today üå§Ô∏è</div>
        <div class="day-btn" data-day="tomorrow">Tomorrow üåô</div>
      </div>
    </div>

    <button class="calculate-btn" id="calculateBtn">Calculate üöÄ</button>

    <div class="result" id="resultBox">
      <div class="result-emoji" id="resultEmoji"></div>
      <div class="result-percent" id="resultPercent"></div>
      <div class="result-text" id="resultText"></div>
      <div class="result-message" id="resultMessage"></div>
    </div>
  </div>

<script>
  /*-------------------------------
   INTERACTIVE SPACE BACKGROUND
  --------------------------------*/
  const spaceBg = document.getElementById("spaceBg");
  
  // Create stars
  function createStars() {
    for (let i = 0; i < 100; i++) {
      const star = document.createElement("div");
      star.className = "star";
      star.style.width = Math.random() * 3 + "px";
      star.style.height = star.style.width;
      star.style.left = Math.random() * 100 + "%";
      star.style.top = Math.random() * 100 + "%";
      star.style.animationDelay = Math.random() * 3 + "s";
      spaceBg.appendChild(star);
    }
  }
  
  // Create floating particles with mouse interaction
  let particleCount = 0;
  const maxParticles = 8;
  
  function createFloatingParticle() {
    if (particleCount >= maxParticles) return;
    
    const particle = document.createElement("div");
    particle.className = "floating-particle";
    
    const size = Math.random() * 60 + 20;
    particle.style.width = size + "px";
    particle.style.height = size + "px";
    particle.style.left = Math.random() * 100 + "%";
    particle.style.top = Math.random() * 100 + "%";
    
    const colors = [
      `rgba(102, 126, 234, ${Math.random() * 0.4 + 0.1})`,
      `rgba(118, 75, 162, ${Math.random() * 0.4 + 0.1})`,
      `rgba(255, 200, 150, ${Math.random() * 0.3 + 0.1})`
    ];
    particle.style.background = `radial-gradient(circle, ${colors[Math.floor(Math.random() * colors.length)]}, transparent)`;
    
    const duration = Math.random() * 6 + 12;
    const direction = Math.random() > 0.5 ? "float-up" : "float-down";
    particle.style.animation = `${direction} ${duration}s linear forwards`;
    particle.style.animationDelay = Math.random() * 1 + "s";
    
    spaceBg.appendChild(particle);
    particleCount++;
    
    setTimeout(() => {
      particle.remove();
      particleCount--;
    }, duration * 1000 + 1500);
  }
  
  // Create multiple floating particles continuously
  setInterval(createFloatingParticle, 2000);
  
  // Mouse tracking for interactive glow effect
  document.addEventListener("mousemove", (e) => {
    const container = document.getElementById("dragBox");
    if (!container) return;
    
    const rect = container.getBoundingClientRect();
    const centerX = rect.left + rect.width / 2;
    const centerY = rect.top + rect.height / 2;
    const distX = e.clientX - centerX;
    const distY = e.clientY - centerY;
    const distance = Math.sqrt(distX * distX + distY * distY);
    const angle = Math.atan2(distY, distX);
    
    // Add subtle glow effect that increases with proximity
    const maxDistance = 400;
    const glowIntensity = Math.max(0, 1 - (distance / maxDistance));
    const glowRadius = 20 + glowIntensity * 20;
    
    container.style.boxShadow = `0 25px 60px rgba(0, 0, 0, ${0.25 + glowIntensity * 0.1}), 
                                  ${Math.cos(angle) * glowRadius}px ${Math.sin(angle) * glowRadius}px ${40 + glowIntensity * 20}px rgba(102, 126, 234, ${0.15 + glowIntensity * 0.25})`;
  });
  
  // Initialize stars on load
  createStars();
  
  // Create birds in light mode
  let birdCount = 0;
  const maxBirds = 4;
  
  function createBird() {
    if (currentTheme !== "light" || birdCount >= maxBirds) return;
    
    const bird = document.createElement("div");
    bird.className = "bird";
    bird.textContent = "üê¶";
    
    const startY = Math.random() * 150 + 50;
    bird.style.top = startY + "px";
    bird.style.left = "0";
    
    const duration = Math.random() * 12 + 15;
    const direction = Math.random() > 0.5 ? "fly" : "fly-reverse";
    bird.style.animation = `${direction} ${duration}s linear forwards`;
    bird.style.animationDelay = Math.random() * 2 + "s";
    
    spaceBg.appendChild(bird);
    birdCount++;
    
    setTimeout(() => {
      bird.remove();
      birdCount--;
    }, duration * 1000 + 2500);
  }
  
  // Create birds periodically when in light mode
  const birdInterval = setInterval(() => {
    if (currentTheme === "light") {
      createBird();
    }
  }, 3500);

  /*-------------------------------
   THEME SWITCHING
  --------------------------------*/
  const themeToggle = document.getElementById("themeToggle");
  let currentTheme = localStorage.getItem("theme") || "default";
  
  function applyTheme(theme) {
    document.body.classList.remove("light-mode", "dark-mode");
    if (theme === "light") {
      document.body.classList.add("light-mode");
      themeToggle.textContent = "üåô";
      // Start creating birds when switching to light mode
      if (!window.birdIntervalActive) {
        window.birdIntervalActive = true;
      }
    } else if (theme === "dark") {
      document.body.classList.add("dark-mode");
      themeToggle.textContent = "‚òÄÔ∏è";
      window.birdIntervalActive = false;
    } else {
      themeToggle.textContent = "üåô";
      window.birdIntervalActive = false;
    }
    localStorage.setItem("theme", theme);
  }
  
  themeToggle.addEventListener("click", () => {
    if (currentTheme === "default") currentTheme = "light";
    else if (currentTheme === "light") currentTheme = "dark";
    else currentTheme = "default";
    applyTheme(currentTheme);
  });
  
  applyTheme(currentTheme);

  /*-------------------------------
   DAY SELECTION
  --------------------------------*/
  let selectedDay = "today";
  document.querySelectorAll(".day-btn").forEach((btn) => {
    btn.onclick = function () {
      document.querySelectorAll(".day-btn").forEach((b) => b.classList.remove("active"));
      this.classList.add("active");
      selectedDay = this.dataset.day;
    };
  });

  /*-------------------------------
   BUNK CALCULATION
  --------------------------------*/
  function calculateProbability(name, subject, day) {
    if (!name.trim() || !subject.trim()) return null;
    let seed = [...(name + subject)].reduce((a, c) => a + c.charCodeAt(0), 0);
    seed += day === "today" ? 15 : 30;
    return (seed % 99) + 1;
  }

  function getResult(percent) {
    if (percent >= 85)
      return { emoji: "üéâ", text: "SUPER HIGH!", msg: "Universe approves your bunk üòÜ" };
    if (percent >= 70)
      return { emoji: "‚ú®", text: "HIGH CHANCE", msg: "Looks like a chill day üëÄ" };
    if (percent >= 50)
      return { emoji: "ü§∑", text: "MODERATE", msg: "Trust your gut üí≠" };
    if (percent >= 30)
      return { emoji: "üìñ", text: "LOW", msg: "Maybe attend today üòÖ" };
    return { emoji: "üö´", text: "VERY LOW", msg: "Class is calling!" };
  }

  document.getElementById("calculateBtn").onclick = () => {
    const name = document.getElementById("studentName").value;
    const subject = document.getElementById("subjectName").value;

    const percent = calculateProbability(name, subject, selectedDay);
    const resultBox = document.getElementById("resultBox");
    const resultEmoji = document.getElementById("resultEmoji");
    const resultPercent = document.getElementById("resultPercent");
    const resultText = document.getElementById("resultText");
    const resultMessage = document.getElementById("resultMessage");

    if (!percent) {
      resultBox.classList.add("show");
      resultEmoji.textContent = "‚ö†Ô∏è";
      resultPercent.textContent = "";
      resultText.textContent = "Fill all fields!";
      resultMessage.textContent = "";
      return;
    }

    const res = getResult(percent);
    resultEmoji.textContent = res.emoji;
    resultPercent.textContent = percent + "%";
    resultText.textContent = res.text;
    resultMessage.textContent = res.msg;

    resultBox.classList.remove("show");
    setTimeout(() => resultBox.classList.add("show"), 10);
  };

  /*-------------------------------
   DRAGGABLE UI
  --------------------------------*/
  let drag = false,
    startX,
    startY,
    x = 0,
    y = 0;

  const box = document.getElementById("dragBox");

  box.addEventListener("mousedown", startDrag);
  document.addEventListener("mouseup", stopDrag);
  document.addEventListener("mousemove", onDrag);

  function startDrag(e) {
    if (e.target.tagName === "INPUT" || e.target.tagName === "BUTTON" || e.target.id === "themeToggle") return;
    drag = true;
    startX = e.clientX - x;
    startY = e.clientY - y;
    box.style.cursor = "grabbing";
    box.style.transition = "none";
  }

  function stopDrag() {
    drag = false;
    box.style.cursor = "grab";
    box.style.transition = "all 0.4s ease";
  }

  function onDrag(e) {
    if (!drag) return;
    x = e.clientX - startX;
    y = e.clientY - startY;
    box.style.transform = `translate(${x}px, ${y}px)`;
  }
  
  /*-------------------------------
   WINDOW RESIZE - RESPONSIVE ADJUSTMENT
  --------------------------------*/
  window.addEventListener("resize", () => {
    const rect = box.getBoundingClientRect();
    if (rect.left < 0) x = 20 - rect.left + x;
    if (rect.top < 0) y = 20 - rect.top + y;
    if (rect.right > window.innerWidth) x = window.innerWidth - 20 - rect.width + x;
    if (rect.bottom > window.innerHeight) y = window.innerHeight - 20 - rect.height + y;
    box.style.transform = `translate(${x}px, ${y}px)`;
  });
</script>
</body>
</html>
